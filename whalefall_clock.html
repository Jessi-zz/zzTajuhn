<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>whalefall_clock</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Nova+Cut&display=swap');
        body {
            background-color: transparent !important;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 20px;
            font-family: 'Nova cut';
        }

        #clock-container {
            position: relative;
            display: block;
            width: 250px;
            height: 72px;
            justify-content: center;
            align-items: center;
            background-image: linear-gradient(to bottom, #7293B7, #537fad);
            border-radius: 72px;
            border: 4px solid #C5CECE;
            box-shadow: 0px 0px 0px 2px #686868;
            padding: 10px 40px;
            overflow: hidden;
        }

        #clock-container::before {
            content: '';
            background-image: url('./img/background.png');
            background-size: contain;
            background-repeat: no-repeat;
            width: 380px;
            height: 100px;
            position: absolute;
            justify-content: center;
            align-items: center;
            left: 0px;
            top: -2px;
        }

        #clock {
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 4.2em;
            letter-spacing: -0.04em;
            color: #fff;
            margin-left: -2px;
            margin-top: -2px;
        }

        .colon {
            opacity: 1;
            transition: opacity 0.1s;
            display: inline-block;
            vertical-align: middle;
            margin: 0 5px;
            position: relative;
            top: -0.15em;
        }

        /* 星形裝飾 */

        #deco-container {
            position: absolute;
            display: block;
            width: 325px;
            height: 128px;
            justify-content: center;
            align-items: center;
            padding: 10px 30px;
            overflow: hidden;
        }


        #deco_star {
            display: flex;
            position: absolute;
            background-image: url('./img/star.png');
            background-size: contain;
            background-repeat: no-repeat;
            width: 66px;
            height: 40px;
        }

        #deco_star:nth-child(1) {
            left: 20px;
            top: 54px;
        }

        #deco_star:nth-child(2) {
            right: 20px;
            top: 54px;
            transform: rotateY(180deg);
        }


        #back-deco {
            position: absolute;
            display: block;
            width: 325px;
            height: 128px;
            justify-content: center;
            align-items: center;
            padding: 10px 30px;
        }

        /* 背景裝飾 */
        @keyframes rotate {
            from {
                transform: rotate(0deg);
            }
            to {
                transform: rotate(360deg);
            }
        }


        /* 左上裝飾 */

        #deco_circle1 {
            display: flex;
            position: absolute;
            background-image: url('./img/rail.png');
            background-size: contain;
            background-repeat: no-repeat;
            width: 100px;
            height: 100px;
            top: 0px;
            left: 0px;
        }

        #deco_circle1::before {
            content: '';
            display: flex;
            position: absolute;
            background-image: url('./img/diamond_L.png');
            background-size: contain;
            background-repeat: no-repeat;
            width: 100px;
            height: 100px;
            animation: rotate 10s linear infinite;
        }

        #deco_circle1::after {
            content: '';
            display: flex;
            position: absolute;
            background-image: url('./img/diamond_S.png');
            background-size: contain;
            background-repeat: no-repeat;
            width: 100px;
            height: 100px;
            animation: rotate 6s linear infinite;
        }

        /* 右下裝飾 */

        #deco_circle2 {
            display: flex;
            position: absolute;
            background-image: url('./img/rail.png');
            background-size: contain;
            background-repeat: no-repeat;
            width: 100px;
            height: 100px;
            bottom: 0px;
            right: 0px;
        }

        #deco_circle2::before {
            content: '';
            display: flex;
            position: absolute;
            background-image: url('./img/circle_L.png');
            background-size: contain;
            background-repeat: no-repeat;
            width: 100px;
            height: 100px;
            animation: rotate 8s linear infinite reverse;
        }

        #deco_circle2::after {
            content: '';
            display: flex;
            position: absolute;
            background-image: url('./img/circle_S.png');
            background-size: contain;
            background-repeat: no-repeat;
            width: 100px;
            height: 100px;
            animation: rotate 4s linear infinite reverse;
        }


        /* 星星 */

        .star {
            position: absolute;
            width: 3px;
            height: 3px;
            background: #FFFBD2;
            border-radius: 50%;
            opacity: 0;
            animation: twinkle var(--duration, 4s) infinite;

        }

        @keyframes twinkle {
            0% { 
                opacity: 0; 
                transform: translateY(0); 
            }
            50% { 
                opacity:  var(--max-opacity, 0.8);
            }
            100% { 
                transform: translateY(-20px); 
            }
        }

        .star:nth-child(1) { left: 10%; top: 20%; animation-delay: 0s; }
        .star:nth-child(2) { left: 20%; top: 40%; animation-delay: 0.5s; }
        .star:nth-child(3) { left: 30%; top: 60%; animation-delay: 1s; }
        .star:nth-child(4) { left: 40%; top: 80%; animation-delay: 1.5s; }
        .star:nth-child(5) { left: 60%; top: 30%; animation-delay: 2s; }
    </style>
</head>
<body>
    <div id="back-deco">
        <div id="deco_circle1"></div>
        <div id="deco_circle2"></div>
    </div>
    <div id="clock-container">
        <div id="clock"><span id="hours"></span><span class="colon">:</span><span id="minutes"></span></div>
        <div class="star"></div>
        <div class="star"></div>
        <div class="star"></div>
        <div class="star"></div>
        <div class="star"></div>
    </div>
    <div id="deco-container">
        <div id="deco_star"></div>
        <div id="deco_star"></div> 
    </div>

    <script>
        function updateClock() {
            const now = new Date();
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            document.getElementById('hours').textContent = hours;
            document.getElementById('minutes').textContent = minutes;
        }

        function blinkColon() {
            const colon = document.querySelector('.colon');
            colon.style.opacity = colon.style.opacity === '0' ? '1' : '0';
        }

        setInterval(updateClock, 1000);
        setInterval(blinkColon, 1000);
        updateClock();

        function createStars(number) {
            const container = document.getElementById('clock-container');
            const colors = ['#ffffff', '#ffe9c4', '#d4fbff'];
            for (let i = 0; i < number; i++) {
                const star = document.createElement('div');
                star.className = 'star';

                star.style.left = `${Math.random() * 150 - 25}%`;
                star.style.top = `${Math.random() * 150 - 25}%`;

                const glowSize = Math.random() * 2 + 2; // 2-4px
                star.style.boxShadow = `0 0 ${glowSize}px ${glowSize/2}px ${color}`;

                star.style.animationDelay = `${Math.random() * 5}s`;
                star.style.animationDuration = `${Math.random() * 3 + 3}s`;

                const maxOpacity = Math.random() * 0.5 + 0.3; // 0.3 到 0.8
                star.style.setProperty('--max-opacity', maxOpacity);

                container.appendChild(star);
            }
        }

        createStars(15);
    </script>
</body>
</html>